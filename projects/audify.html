<!DOCTYPE html>
<html lang="en" class="h-full" xmlns:x-transition="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Audify - Project Page - Ewan Prangell</title>

    <!-- Primary Meta Tags -->
    <meta name="title" content="Audify - Project Page - Ewan Prangell">
    <meta name="description" content="A collection of my development projects with their wiki pages. Additionally it shows my journey through learning.">
    <meta name="author" content="Ewan Prangell">
    <meta name="keywords" content="web development, programming, developer portfolio">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ewanprangell.github.io/projects/audify">
    <meta property="og:site_name" content="Ewan Prangell">
    <meta property="og:title" content="Audify - Project Page - Ewan Prangell">
    <meta property="og:description" content="A collection of my development projects with their wiki pages. Additionally it shows my journey through learning.">
    <meta property="og:image" content="https://ewanprangell.github.io/assets/site-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="en_US">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://ewanprangell.github.io/projects/audify">
    <meta property="twitter:title" content="Audify - Project Page - Ewan Prangell">
    <meta property="twitter:description" content="A collection of my development projects with their wiki pages. Additionally it shows my journey through learning.">
    <meta property="twitter:image" content="https://ewanprangell.github.io/assets/site-image.png">
    <meta property="twitter:creator" content="@PrangellDev">

    <!-- Theme Color for browsers -->
    <meta name="theme-color" content="#EC4899">

    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="stylesheet" href="/css/animations.css" />
    <link rel="stylesheet" href="/css/index.css" />
    <link rel="stylesheet" href="/css/project-page.css" />
    <script nonce="SUIiDKvdAKfAQ83JF6r8WpO/NmruLpbv8ihFYt&#x2B;TqvM=" defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <link rel="icon" href="/assets/prangell-icon.png"/>
</head>
<body class="min-h-full flex flex-col bg-gradient-to-br from-primary-50 to-secondary-50" x-data="projectPage">

<!-- HEADER -->
<header class="bg-white shadow-sm relative">
    <nav class="container mx-auto px-4 py-4 flex justify-between items-center">
        <a href="/index.html" class="text-2xl font-display font-bold hover:opacity-80 transition-all px-2 py-1">Ewan Prangell</a>

        <a b-fjjvsfsfew href="/projects.html"
           class="nav-link group relative flex items-center gap-1 px-2 py-1 rounded-lg transition-all duration-300"
           :class="{ 'nav-link-active': activeSection.includes('projects.html') }"
           aria-label="View all projects">
            <span b-fjjvsfsfew>‚Üê Back to Projects</span>
            <span b-fjjvsfsfew class="absolute inset-x-0 -bottom-1 h-0.5 bg-primary-500 transform origin-left transition-transform scale-x-0 group-hover:scale-x-100" aria-hidden="true"></span>
        </a>
    </nav>
</header>

<main class="container mx-auto px-4 py-12 max-w-5xl">
    <div class="relative bg-white ring-1 ring-gray-900/5 rounded-2xl p-8 shadow-lg">

        <!-- Decorative blob -->
        <div class="absolute inset-0 flex items-center justify-center opacity-10 -z-10">
            <div class="rotating-background blur-xl"></div>
        </div>

        <!-- Title + Summary -->
        <div class="text-center mb-10">
            <h1 class="text-4xl font-bold text-gray-900 mb-3" x-text="project.title"></h1>
            <div class="small-gap-section"></div>
            <div class="flex flex-wrap gap-2 justify-center mb-4">
                <template x-for="tag in project.tags" :key="tag">
                    <span class="tag" x-text="tag"></span>
                </template>
            </div>
            <p class="text-gray-600 text-lg max-w-2xl mx-auto" x-text="project.summary"></p>
        </div>

        <div class="gap-section"></div>

        <!-- Media Carousel -->
        <div class="relative w-full h-full rounded-xl overflow-hidden shadow-md mb-10">
            <template x-for="(item, index) in project.media" :key="index">
                <div>
                    <img x-show="item.type === 'image' && currentSlide === index" :src="item.src" class="w-full h-full object-cover inset-0 transition-opacity duration-300" />
                    <video
                        x-show="item.type === 'video' && currentSlide === index"
                        :src="item.src"
                        controls
                        class="w-full h-full object-cover inset-0"
                        x-ref="'carouselVideo' + index"
                        x-effect="if (item.type === 'video' && currentSlide === index) { $refs['carouselVideo' + index]?.pause(); $refs['carouselVideo' + index]?.currentTime = 0; }"
                    ></video>
                </div>
            </template>

            <button @click="prev()" class="carousel-btn prev">&lt</button>
            <button @click="next()" class="carousel-btn next">&gt</button>
        </div>

        <div class="gap-section"></div>

        <!-- Links -->
        <!--<div class="mb-10">
            <h2 class="text-2xl font-semibold mb-4">Links</h2>
            <div class="flex flex-wrap gap-3">
                <template x-for="link in project.links">
                    <a :href="link.url" target="_blank" class="px-4 py-2 rounded-xl bg-primary-500 text-white hover:bg-primary-600 transition flex items-center gap-2">
                        <template x-if="link.svg">
                            <span x-html="link.svg" class="inline-block align-middle"></span>
                        </template>
                        <span x-text="link.label"></span>
                    </a>
                </template>
            </div>
        </div>
        
        <div class="gap-section"></div>-->

        <!-- Full Description -->
        <div class="mb-10">
            <h2 class="text-2xl font-semibold mb-4">Description</h2>
            <p class="text-gray-700 leading-relaxed" x-text="project.description"></p>
        </div>

        <!-- Code Example Block -->
        <template x-for="(block, idx) in project.codeBlocks" :key="idx">
            <div class="mb-10">
                <div class="gap-section"></div>
                <div class="flex items-center gap-3 mb-2">
                <span class="text-primary-500 font-bold">Code Block #<span x-text="idx + 1"></span></span>
                <span class="text-gray-600" x-text="block.summary"></span>
                </div>
                <div class="mb-3">
                <span class="block text-gray-700" x-text="block.description"></span>
                </div>
                <div class="gap-section"></div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-stretch">
                <!-- Multi-file code block -->
                <template x-if="block.codeFiles">
                    <div class="code-block-overview" x-data="multiFileCodeBlock(block.codeFiles)">
                        <div class="code-block-overlay" @click="dropdownOpen = !dropdownOpen" style="cursor:pointer;position:relative;">
                            <svg class="animate-bounce-code" xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="vertical-align:middle;"><path stroke="#fff" stroke-width="2" d="M6 9l6 6 6-6"/></svg>
                            <span x-text="selected"></span>
                            <div x-show="dropdownOpen" @click.outside="dropdownOpen = false" style="position:absolute;top:2.2rem;left:0;z-index:10;background:#18181b;border-radius:0.5rem;box-shadow:0 2px 8px rgba(0,0,0,0.15);min-width:180px;">
                                <template x-for="fileObj in block.codeFiles" :key="fileObj.file">
                                    <div @click.stop="selected = fileObj.file; dropdownOpen = false" style="padding:0.5rem 1rem;color:#fff;cursor:pointer;white-space:nowrap;" :class="{'bg-gray-700': selected === fileObj.file}">
                                        <span x-text="fileObj.label"></span>
                                    </div>
                                </template>
                            </div>
                        </div>
                        <pre class="code-block-content" style="margin-top:0;"><code x-text="code"></code></pre>
                    </div>
                </template>
                <!-- Single file code block -->
                <template x-if="!block.codeFiles && block.file">
                    <div class="code-block-overview" x-data="codeBlockLoader(block.file)">
                    <div class="code-block-overlay">
                        <svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='none' viewBox='0 0 24 24'><rect width='24' height='24' rx='4' fill='#334155'/><path stroke='#fff' stroke-width='2' d='M7 7h10v10H7z'/></svg>
                        <span x-text="block.file"></span>
                    </div>
                    <pre class="code-block-content"><code x-text="code"></code></pre>
                    </div>
                </template>
                <!-- Inline code block -->
                <template x-if="!block.codeFiles && !block.file">
                    <div class="code-block-overview">
                    <div class="code-block-overlay">
                        <svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='none' viewBox='0 0 24 24'><rect width='24' height='24' rx='4' fill='#334155'/><path stroke='#fff' stroke-width='2' d='M7 7h10v10H7z'/></svg>
                        <span>Inline Code</span>
                    </div>
                    <pre class="code-block-content"><code x-text="block.code"></code></pre>
                    </div>
                </template>
                <!-- Optional image/media -->
                <template x-if="block.media">
                    <div class="h-full">
                    <img :src="block.media" class="rounded-xl shadow w-full object-fit:cover; object-cover" />
                    </div>
                </template>
                </div>
            </div>
        </template>

        <div class="gap-section"></div>

        <!-- Additional Media Grid -->
        <div>
            <h2 class="text-2xl font-semibold mb-4">Additional Media</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <template x-for="(item, index) in project.addmedia">
                    <div>
                        <template x-if="item.type === 'image'">
                            <img :src="item.src" class="rounded-xl object-cover w-full h-64 shadow" />
                        </template>
                        <template x-if="item.type === 'video'">
                            <video :src="item.src" controls class="rounded-xl w-full h-64 object-cover shadow"></video>
                        </template>
                    </div>
                </template>
            </div>
        </div>

    </div>
</main>

<footer b-fjjvsfsfew class="bg-white border-t mt-auto">
    <div b-fjjvsfsfew class="container mx-auto px-4 py-6">
        <div b-fjjvsfsfew class="text-center space-y-2">
            <p b-fjjvsfsfew class="text-gray-600">&copy; 2025 - Ewan Prangell</p>
            <p b-fjjvsfsfew class="text-sm text-gray-500 flex items-center justify-center gap-2">
                <span b-fjjvsfsfew>Made with Magic</span>
            </p>
        </div>
    </div>
</footer>

<script>
    document.addEventListener('alpine:init', () => {
        Alpine.data('projectPage', () => ({
            currentSlide: 0,
            project: {
                title: "Audify",
                summary: "An application managing local music files with real-time metadata display for streaming overlays.",
                description: "A custom audio player with a metadata file system. Allowing users to select audio files, create / edit custom metadata (title, artist, source) and maintain a persistent audio library. Currently being refined on it's features and design before a public release.",
                tags: ["Unity Application"],
                media: [
                    { type: "image", src: "/assets/projects/audify/metadataoverview_ia.png" },
                    { type: "image", src: "/assets/projects/audify/metadata_ia.png" },
                    { type: "image", src: "/assets/projects/audify/metadata_file_example.png" }
                ],
                /*links: [
                    
                ],*/
                codeBlocks: [
                        {
                            codeFiles: [
                                { label: "SongMetadata.cs", file: "/assets/code/audify/metagen/SongMetadata.cs" },
                                { label: "MetadataManager.cs", file: "/assets/code/audify/metagen/MetadataManager.cs" }
                            ],
                            summary: "Local file metadata generation.",
                            description: "The codeblock demonstrates a simple yet effective generation system implemented in Unity that automatically creates a structured JSON files for a local audio track. When a new audio file is selected and imported, the system inspects its path, generates a SongMetadata object, and serializes it into a persistent JSON file utilising Unity\x27s JsonUtility. This gurantees that every track added to the application has consistent, programmatically generated metadata, forming a simple but extensible data-driven foundation for Audify\x27s library.",
                            media: "/assets/projects/audify/metadata_files.png"
                        },
                        {
                            file: "/assets/code/audify/editor/MetadataEditorUI.cs",
                            summary: "In app metadata editor UI.",
                            description: "This codeblock demonstrates a Unity-based metadata editing UI that allows the user to modify the generated metadata file for the selected audio track. The applications system loads an existing metadata file into the input fields, synchronizes the users edits back into a SongMetadata object, and serializes the updated data to the disk. A file change triggers an event callback \x22OnMetadataUpdated\x22 to ensure other systems remain in sync, creating a clean and modular workflow for managing audio metadata.",
                            media: "/assets/projects/audify/metadata_ia.png"
                        }
                ],
                addmedia: [
                    { type: "image", src: "/assets/projects/audify/metadataoverview_ia.png" },
                    { type: "image", src: "/assets/projects/audify/metadata_ia.png" }
                ],
            },
            next() {
                this.currentSlide = (this.currentSlide + 1) % this.project.media.length;
            },
            prev() {
                this.currentSlide = (this.currentSlide - 1 + this.project.media.length) % this.project.media.length;
            }
        })),
        Alpine.data('codeBlockLoader', (file) => ({
        code: '',
        async init() {
            if (file) {
                try {
                    const res = await fetch(file);
                    this.code = await res.text();
                } catch (e) {
                    this.code = '// Error loading file';
                }
            }
        }
    })),
    Alpine.data('multiFileCodeBlock', (files) => ({
        selected: files[0]?.file,
        code: '',
        dropdownOpen: false,
        async fetchCode() {
            if (this.selected) {
                try {
                    const res = await fetch(this.selected);
                    this.code = await res.text();
                } catch (e) {
                    this.code = '// Error loading file';
                }
            }
        },
        init() {
            this.fetchCode();
            this.$watch('selected', () => {
                this.fetchCode();
            });
        }
    }));
    });
</script>
</body>
</html>